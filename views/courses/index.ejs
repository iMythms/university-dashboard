<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/globals.css" />
		<script src="https://cdn.tailwindcss.com"></script>
		<title>Courses</title>
	</head>
	<body class="bg-white h-dvh">
		<%- include('../partials/_navbar.ejs') %>
		<section class="container mx-auto">
			<div class="flex justify-between items-center">
				<h1 class="my-16 font-semibold text-3xl">All Courses</h1>
				<a
					href="/courses/new"
					class="w-fit text-base font-medium bg-[#F1F1F0] px-2.5 py-1 rounded-lg hover:bg-[#bababa] transition ease-in-out"
					>Add Course</a
				>
			</div>
			<div class="grid grid-cols-6 gap-5 mt-20">
				<% courses.forEach((course) => { %>
				<!-- Course Card -->
				<div
					class="bg-white border border-[#E5E7EB] rounded-xl p-4 flex flex-col gap-[10px] cursor-pointer hover:bg-[#f7f7f7] transition ease-in-out"
				>
					<!-- Course Code as a Link -->
					<a
						href="/courses/<%= course._id %>"
						class="font-normal text-base text-black hover:underline"
					>
						<%= course.courseCode %>
					</a>

					<!-- Course Status -->
					<div
						class="cursor-pointer w-fit text-sm font-normal bg-[#ececec] p-1 rounded-lg hover:bg-[#bababa] transition ease-in-out"
					>
						<% if (course.status === 'done') { %>
						<span class="text-green-700">● Done</span>
						<% } else if (course.status === 'in progress') { %>
						<span class="text-yellow-700">● In Progress</span>
						<% } else if (course.status === 'not started') { %>
						<span class="text-gray-700">● Not Started</span>
						<% } else if (course.status === 'repeated') { %>
						<span class="text-red-700">● Repeated</span>
						<% } %>
					</div>

					<!-- Course Title -->
					<p class="text-sm"><%= course.courseTitle %></p>

					<!-- Instructors -->
					<div class="">
						<% course.instructor.forEach((instructor) => { %>
						<div
							class="flex gap-1 items-center w-fit hover:bg-[#ececec] px-1.5 py-0.5 rounded-lg transition ease-in-out"
						>
							<p>👨🏻‍🏫</p>
							<p class="text-sm"><%= instructor.name %></p>
						</div>
						<% }) %>
					</div>
				</div>
				<% }) %>
			</div>
		</section>
	</body>
</html>
